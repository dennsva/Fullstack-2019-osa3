{"version":3,"sources":["components/Filter.js","services/persons.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["Filter","_ref","filter","setFilter","react_default","a","createElement","value","onChange","event","newFilter","target","console","log","concat","baseURL","services_persons","Axios","get","then","response","data","newObject","post","id","put","delete","PersonForm","persons","setPersons","notify","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNumber","setNewNumber","onSubmit","preventDefault","newPerson","name","number","map","person","includes","window","confirm","personService","returnedPerson","message","type","catch","error","p","createdPerson","Persons","toShow","toLowerCase","indexOf","length","key","onClick","Notification","notification","color","className","style","App","_useState5","_useState6","setNotification","setTimeout","useEffect","App_Notification","components_Filter","components_PersonForm","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.b9f12d7b.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filter, setFilter}) => {\n  const handleFilterChange = (event) => {\n    const newFilter = event.target.value\n    setFilter(newFilter)\n    console.log(`Filter set to ${newFilter}`)\n  }\n\n  return (\n    <form>\n      <div>\n        rajaa näytettäviä: \n        <input\n          value={filter}\n          onChange={handleFilterChange}\n        />\n      </div>\n    </form>\n  )\n}\n\nexport default Filter","import Axios from 'axios'\nconst baseURL = '/api/persons'\n\nconst getAll = () => {\n  const request = Axios.get(baseURL)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = Axios.post(baseURL, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = Axios.put(`${baseURL}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = Axios.delete(`${baseURL}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState } from 'react'\nimport personService from '../services/persons'\n\nconst PersonForm = ({persons, setPersons, notify}) => {\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.map(person => person.name).includes(newName)) {\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        const id = persons.filter(person => person.name === newName).map(person => person.id)[0]\n        console.log(`Updating person with id ${id}`)\n        personService\n          .update(id, newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id === id ? returnedPerson : person))\n            setNewName('')\n            setNewNumber('')\n            console.log(`Changed number of ${returnedPerson.name} (id ${returnedPerson.id}) to ${returnedPerson.number}`)\n            notify({message: `Henkilön ${returnedPerson.name} numero on nyt ${returnedPerson.number}`, type: 'good'})\n          })\n          .catch(error => {\n            console.log(`Cannot update, person \"${newPerson.name}\" does not exist`)\n            notify({message: `Henkilöä ${newPerson.name} ei ole puhelinluettelossa`, type: 'bad'})\n            setPersons(persons.filter(p => p.id !== id))\n          })\n      }\n      return\n    }\n    \n    personService\n      .create(newPerson)\n      .then(createdPerson => {\n        setPersons(persons.concat(createdPerson))\n        setNewName('')\n        setNewNumber('')\n        console.log(`Created person ${createdPerson.name} (id ${createdPerson.id})`)\n        notify({message: `Lisättiin ${createdPerson.name}`, type: 'good'})\n      })\n      .catch(error => {\n        console.log(`Failed to add person ${newPerson.name}: ${error.response.data.error}`)\n        notify({ message: error.response.data.error, type: 'bad' })\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return(\n    <div>\n    <h2>Lisää uusi</h2>\n    <form onSubmit={addPerson}>\n      <div>\n        nimi: \n        <input\n          value={newName}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        numero: \n        <input\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n    </div>\n  )\n}\n\nexport default PersonForm","import React from 'react'\nimport personService from '../services/persons'\n\nconst Persons = ({persons, setPersons, filter, notify}) => {\n  const toShow = persons.filter(person => person.name.toLowerCase().indexOf(filter.toLowerCase()) >= 0)\n  console.log(`Found ${toShow.length} persons matching filter ${filter}`)\n  return(\n    <div>\n      <h2>Numerot</h2>\n      {toShow.map(person => \n        <p key={person.name}>\n          {person.name} {person.number}\n          <button onClick={() => {\n            if (window.confirm(`Poistetaanko ${person.name}?`)) {\n              personService\n                .remove(person.id)\n              setPersons(persons.filter(p => p.id !== person.id))\n              console.log(`${person.name} removed`)\n              notify({message: `Poistettiin ${person.name}`, type:'good'})\n            }\n          }}>\n            poista\n          </button>\n        </p>\n      )}\n    </div>\n  )\n}\n\nexport default Persons","import React, { useState, useEffect } from 'react'\n\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  const notify = (notification) => {\n    setNotification(\n      {\n      message: notification.message,\n      type: notification.type\n      }\n    )\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  useEffect(() => {\n    console.log('Updating persons...')\n    personService\n      .getAll()\n      .then(persons => {\n        setPersons(persons)\n        console.log(`Loaded ${persons.length} persons`)\n      })\n  }, [])\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n      <Notification notification={notification}/>\n      <Filter filter={filter} setFilter={setFilter}/>\n      <PersonForm persons={persons} setPersons={setPersons} notify={notify}/>\n      <Persons persons={persons} setPersons={setPersons} filter={filter} notify={notify}/>\n    </div>\n  )\n}\n\nconst Notification = ({notification}) => {\n  if (notification === null) return null\n  console.log(`Showing notification '${notification.message}' of type '${notification.type}'`)\n  const color = notification.type === 'good'\n    ? 'green'\n    : 'red'\n  return (\n    <div className='error' style={{color}}>\n      {notification.message}\n    </div>\n  ) \n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}