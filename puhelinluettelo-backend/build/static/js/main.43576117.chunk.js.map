{"version":3,"sources":["components/Filter.js","services/persons.js","components/PersonForm.js","components/Persons.js","App.js","index.js"],"names":["Filter","_ref","filter","setFilter","react_default","a","createElement","value","onChange","event","newFilter","target","console","log","concat","baseURL","services_persons","newObject","Axios","post","then","response","data","id","put","delete","PersonForm","persons","setPersons","notify","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNumber","setNewNumber","onSubmit","preventDefault","newPerson","name","number","map","person","includes","window","confirm","personService","returnedPerson","message","type","catch","error","p","Persons","toShow","toLowerCase","indexOf","length","key","onClick","Notification","notification","color","className","style","App","_useState5","_useState6","setNotification","notn","setTimeout","useEffect","get","App_Notification","components_Filter","components_PersonForm","components_Persons","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.43576117.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({filter, setFilter}) => {\n  const handleFilterChange = (event) => {\n    const newFilter = event.target.value\n    setFilter(newFilter)\n    console.log(`Filter set to ${newFilter}`)\n  }\n\n  return (\n    <form>\n      <div>\n        rajaa näytettäviä: \n        <input\n          value={filter}\n          onChange={handleFilterChange}\n        />\n      </div>\n    </form>\n  )\n}\n\nexport default Filter","import Axios from 'axios'\nconst baseURL = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n  const request = Axios.get(baseURL)\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = Axios.post(baseURL, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = Axios.put(`${baseURL}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = Axios.delete(`${baseURL}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, remove }","import React, { useState } from 'react'\nimport personService from '../services/persons'\n\nconst PersonForm = ({persons, setPersons, notify}) => {\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    if (persons.map(person => person.name).includes(newName)) {\n      if (window.confirm(`${newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n        const id = persons.filter(person => person.name === newName).map(person => person.id)[0]\n        console.log(`Updating person with id ${id}`)\n        personService\n          .update(id, newPerson)\n          .then(returnedPerson => {\n            setPersons(persons.map(person => person.id === id ? returnedPerson : person))\n            setNewName('')\n            setNewNumber('')\n            console.log(`Changed number of ${returnedPerson.name} (id ${returnedPerson.id}) to ${returnedPerson.number}`)\n            notify({message: `Henkilön ${returnedPerson.name} numero on nyt ${returnedPerson.number}`, type: 'good'})\n          })\n          .catch(error => {\n            console.log(`Cannot update, person \"${newPerson.name}\" does not exist`)\n            notify({message: `Henkilö ${newPerson.name} oli jo poistettu`, type: 'bad'})\n            setPersons(persons.filter(p => p.id !== id))\n          })\n      }\n      return\n    }\n    \n    personService\n      .create(newPerson)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        console.log(`Created person ${returnedPerson.name} (id ${returnedPerson.id})`)\n        notify({message: `Lisättiin ${returnedPerson.name}`, type: 'good'})\n      })\n    \n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  return(\n    <div>\n    <h2>Lisää uusi</h2>\n    <form onSubmit={addPerson}>\n      <div>\n        nimi: \n        <input\n          value={newName}\n          onChange={handleNameChange}\n        />\n      </div>\n      <div>\n        numero: \n        <input\n          value={newNumber}\n          onChange={handleNumberChange}\n        />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n    </div>\n  )\n}\n\nexport default PersonForm","import React from 'react'\nimport personService from '../services/persons'\n\nconst Persons = ({persons, setPersons, filter, notify}) => {\n  const toShow = persons.filter(person => person.name.toLowerCase().indexOf(filter.toLowerCase()) >= 0)\n  console.log(`Found ${toShow.length} persons matching filter ${filter}`)\n  return(\n    <div>\n      <h2>Numerot</h2>\n      {toShow.map(person => \n        <p key={person.name}>\n          {person.name} {person.number}\n          <button onClick={() => {\n            if (window.confirm(`Poistetaanko ${person.name}?`)) {\n              personService\n                .remove(person.id)\n              setPersons(persons.filter(p => p.id !== person.id))\n              console.log(`${person.name} removed`)\n              notify({message: `Poistettiin ${person.name}`, type:'good'})\n            }\n          }}>\n            poista\n          </button>\n        </p>\n      )}\n    </div>\n  )\n}\n\nexport default Persons","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Axios from 'axios';\n\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState(null)\n\n  const notify = (notn) => {\n    setNotification(\n      {\n      message: notn.message,\n      type: notn.type\n      }\n    )\n    setTimeout(() => {\n      setNotification(null)\n    }, 5000)\n  }\n\n  useEffect(() => {\n    console.log('Updating persons...')\n    Axios\n      .get(baseUrl)\n      .then(response => {\n        setPersons(response.data)\n        console.log(`Loaded ${persons.length} persons`)\n      })\n  }, [])\n\n  return (\n    <div>\n      <h1>Puhelinluettelo</h1>\n      <Notification notification={notification}/>\n      <Filter filter={filter} setFilter={setFilter}/>\n      <PersonForm persons={persons} setPersons={setPersons} notify={notify}/>\n      <Persons persons={persons} setPersons={setPersons} filter={filter} notify={notify}/>\n    </div>\n  )\n}\n\nconst Notification = ({notification}) => {\n  if (notification === null) return null\n  console.log(`Showing notification '${notification.message}' of type '${notification.type}'`)\n  const color = notification.type === 'good'\n    ? 'green'\n    : 'red'\n  return (\n    <div className='error' style={{color}}>\n      {notification.message}\n    </div>\n  ) \n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'));"],"sourceRoot":""}